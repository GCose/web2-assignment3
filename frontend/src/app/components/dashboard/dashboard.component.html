<!--==================== Dashboard Container ====================-->
<div
  class="dashboard__container"
  [ngClass]="
    themeService.isDarkMode()
      ? 'dashboard__container--dark'
      : 'dashboard__container--light'
  "
>
  <!--==================== Dashboard Header ====================-->
  <app-dashboard-header
    [currentUser]="currentUser"
    [themeService]="themeService"
  >
  </app-dashboard-header>
  <!--==================== End of Dashboard Header ====================-->

  <!--==================== Main Content ====================-->
  <main class="dashboard__main">
    <!--==================== Dashboard Title ====================-->
    <div class="dashboard__title-section">
      <h2 class="dashboard__title">
        {{ isAdmin() ? "Administrator" : currentUser?.role }} Dashboard
      </h2>
      <p class="dashboard__subtitle">
        {{
          isAdmin()
            ? "Manage users and system roles"
            : "Welcome to your workspace"
        }}
      </p>
    </div>
    <!--==================== End of Dashboard Title ====================-->

    <!--==================== Admin Dashboard Layout ====================-->
    <div *ngIf="isAdmin()" class="dashboard__admin-layout">
      <!--==================== Stats Cards ====================-->
      <app-stats-cards [stats]="stats" [themeService]="themeService">
      </app-stats-cards>
      <!--==================== End of Stats Cards ====================-->

      <!--==================== Content Grid ====================-->
      <div class="dashboard__grid dashboard__grid--main">
        <!--==================== User Management Table ====================-->
        <div class="dashboard__table-section">
          <app-user-table
            [users]="users"
            [isLoading]="isLoadingUsers"
            [currentUser]="currentUser"
            [themeService]="themeService"
            (userRoleUpdated)="onUserRoleUpdated()"
            (userDeactivated)="onUserDeactivated()"
          >
          </app-user-table>
        </div>
        <!--==================== End of User Management Table ====================-->

        <!--==================== Roles Overview ====================-->
        <div class="dashboard__sidebar-section">
          <app-roles-overview
            [roles]="roles"
            [isLoading]="isLoadingRoles"
            [themeService]="themeService"
          >
          </app-roles-overview>
        </div>
        <!--==================== End of Roles Overview ====================-->
      </div>
      <!--==================== End of Content Grid ====================-->
    </div>
    <!--==================== End of Admin Dashboard Layout ====================-->

    <!--==================== Non-Admin Welcome ====================-->
    <div *ngIf="!isAdmin()" class="dashboard__welcome-layout">
      <app-welcome-card
        [currentUser]="currentUser"
        [themeService]="themeService"
        [isEditor]="isEditor()"
        [isViewer]="isViewer()"
      >
      </app-welcome-card>
    </div>
    <!--==================== End of Non-Admin Welcome ====================-->
  </main>
  <!--==================== End of Main Content ====================-->
</div>
<!--==================== End of Dashboard Container ====================-->
